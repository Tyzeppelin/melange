package fr.inria.diverse.melange.processors

import fr.inria.diverse.melange.ast.MetamodelExtensions
import fr.inria.diverse.melange.eclipse.EclipseProjectHelper
import fr.inria.diverse.melange.metamodel.melange.Metamodel
import javax.inject.Inject

/**
 * This processor is in charge to infer the ecoreUri of the metamodel when the metamodel is generated by melange
 */
class EcoreUriInferrer extends DispatchMelangeProcessor
{
	@Inject extension MetamodelExtensions
	@Inject extension EclipseProjectHelper

	def dispatch void preProcess(Metamodel mm) {
//		val project = mm.eResource.project
//
//		if (mm.isGeneratedByMelange && project !== null)
//			if (project.getFile(mm.localEcorePath).exists)
//				mm.ecoreUri = mm.localEcoreUri
//			else if (project.getFile(mm.externalEcorePath).exists)
//				mm.ecoreUri = mm.externalEcoreUri
	}
}
